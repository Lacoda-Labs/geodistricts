.geodistrict-viewer{padding:20px;max-width:1200px;margin:0 auto}
.header{text-align:center;margin-bottom:30px}
.header h1{color:#2c3e50;margin-bottom:10px}
.header p{color:#7f8c8d;font-size:1.1em}
.controls{background:#f8f9fa;padding:20px;border-radius:8px;margin-bottom:30px;display:flex;flex-wrap:wrap;gap:20px;align-items:center}
.control-group{display:flex;flex-direction:column;gap:5px}
.control-group label{font-weight:600;color:#2c3e50}
.control-group select,.control-group input[type="checkbox"]{padding:8px;border:1px solid #ddd;border-radius:4px;font-size:14px}
.control-group button{background:#3498db;color:white;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-size:14px;font-weight:600}
.control-group button:hover:not(:disabled){background:#2980b9}
.control-group button:disabled{background:#bdc3c7;cursor:not-allowed}
.results{background:white;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1);overflow:hidden}
.summary{background:#2c3e50;color:white;padding:20px}
.summary h2{margin:0 0 15px 0}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}
.stat{display:flex;justify-content:space-between;align-items:center;padding:10px;background:rgba(255,255,255,0.1);border-radius:4px}
.stat .label{font-weight:600}
.stat .value{font-weight:700;color:#3498db}
.step-navigation{padding:20px;border-bottom:1px solid #ecf0f1}
.step-navigation h3{margin:0 0 15px 0;color:#2c3e50}
.step-controls{display:flex;align-items:center;gap:15px;margin-bottom:15px}
.step-controls button{background:#27ae60;color:white;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-weight:600}
.step-controls button:hover:not(:disabled){background:#229954}
.step-controls button:disabled{background:#bdc3c7;cursor:not-allowed}
.step-info{font-weight:600;color:#2c3e50}
.step-selector{display:flex;align-items:center;gap:10px}
.step-selector label{font-weight:600;color:#2c3e50}
.step-selector select{flex:1;padding:8px;border:1px solid #ddd;border-radius:4px}
.current-step{padding:20px;border-bottom:1px solid #ecf0f1}
.current-step h3{margin:0 0 15px 0;color:#2c3e50}
.step-details{margin-bottom:20px}
.step-meta{display:flex;gap:20px;flex-wrap:wrap;font-size:14px}
.step-meta .label{font-weight:600;color:#7f8c8d}
.district-groups h4{margin:0 0 15px 0;color:#2c3e50}
.groups-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:15px}
.district-group{border:1px solid #ddd;border-radius:8px;padding:15px;background:#f8f9fa;display:grid;grid-template-columns:200px 1fr;gap:15px;align-items:start}
.group-map{border-radius:6px;overflow:hidden;border:1px solid #ddd}
.mini-map{height:150px;width:100%}
.mini-map .minimal-tiles{filter:grayscale(100%) brightness(1.2) contrast(0.8)}
.group-content{display:flex;flex-direction:column;gap:10px}
.step-overview-map{margin:20px 0}
.step-overview-map h4{margin:0 0 15px 0;color:#2c3e50;font-size:1.1rem}
.full-width-map-container{background:white;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1);overflow:hidden;border:1px solid #e9ecef}
.step-overview-map-view{height:400px;width:100%}
.step-overview-map-view .minimal-tiles{filter:grayscale(100%) brightness(1.2) contrast(0.8)}
.group-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.group-title{font-weight:700;color:#2c3e50;font-size:1.1em}
.group-stats{display:flex;flex-direction:column;gap:5px;font-size:14px}
.group-stat{display:flex;justify-content:space-between}
.group-stat .label{font-weight:600;color:#7f8c8d}
.group-stat .value{font-weight:700;color:#2c3e50}
.final-districts{padding:20px}
.final-districts h3{margin:0 0 20px 0;color:#2c3e50}
.district-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:20px}
.district-stats-card{background:#f8f9fa;padding:15px;border-radius:8px;border:1px solid #e9ecef}
.district-stats-card h4{margin:0 0 10px 0;color:#2c3e50;font-size:1rem}
.district-stats-card .stat-item{display:flex;justify-content:space-between;margin-bottom:5px;font-size:14px}
.district-stats-card .stat-item .label{font-weight:600;color:#7f8c8d}
.district-stats-card .stat-item .value{font-weight:700;color:#2c3e50}
.districts-table-container{height:300px;overflow-y:auto;border:1px solid #e9ecef;border-radius:8px}
.districts-table{width:100%;border-collapse:collapse;background:white}
.districts-table th{background:#f8f9fa;padding:12px;text-align:left;font-weight:600;color:#2c3e50;border-bottom:1px solid #e9ecef;position:sticky;top:0;z-index:10}
.districts-table td{padding:10px 12px;border-bottom:1px solid #f1f3f4;font-size:14px}
.districts-table tr:hover{background:#f8f9fa}
.district-number{font-weight:700;color:#3498db}
.population{font-weight:600;color:#2c3e50}
.tract-count{color:#7f8c8d}
.population-variance{font-weight:600}
.population-variance.positive{color:#e74c3c}
.population-variance.negative{color:#27ae60}
.centroid{font-family:monospace;font-size:12px;color:#7f8c8d}
.summary-row{background:#f8f9fa;font-weight:700}
.algorithm-history{padding:20px;border-top:1px solid #ecf0f1}
.algorithm-history h3{margin:0 0 15px 0;color:#2c3e50}
.history-log{max-height:300px;overflow-y:auto;background:#f8f9fa;padding:15px;border-radius:8px;border:1px solid #e9ecef}
.history-entry{margin-bottom:8px;font-size:14px;line-height:1.4}
.step-number{font-weight:700;color:#3498db;margin-right:8px}
.entry-text{color:#2c3e50}
.error{background:#e74c3c;color:white;padding:20px;border-radius:8px;margin:20px 0}
.error h3{margin:0 0 10px 0}
.error button{background:white;color:#e74c3c;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-weight:600;margin-top:10px}
.loading{text-align:center;padding:40px}
.spinner{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:0 auto 20px}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
@media (max-width:768px){
  .district-group{grid-template-columns:1fr;gap:10px}
  .group-map{order:2}
  .group-content{order:1}
  .controls{flex-direction:column;align-items:stretch}
  .step-controls{flex-direction:column;gap:10px}
  .step-meta{flex-direction:column;gap:10px}
  .district-stats{grid-template-columns:1fr}
}
